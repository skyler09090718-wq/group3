<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Brython å¤šåŠŸèƒ½äº’å‹•ç¶²é </title>
    <!-- è¼‰å…¥ Brython -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/brython@3.11.0/brython.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/brython@3.11.0/brython_stdlib.js"></script>
</head>
<body onload="brython()" style="font-family: sans-serif; padding: 20px;">

    <h2>ğŸ‘‹ Brython å¤šåŠŸèƒ½äº’å‹•ç¶²é </h2>

    <!-- æŒ‰éˆ• + è®Šè‰²é¡¯ç¤º -->
    <button id="my-button">é»æˆ‘ä¸€ä¸‹</button>
    <div id="output" style="margin-top: 10px; font-weight: bold; color: green;"></div>

    <hr>

    <!-- å€’æ•¸è¨ˆæ™‚ -->
    <h3>â³ å€’æ•¸è¨ˆæ™‚å™¨</h3>
    <button id="countdown-button">é–‹å§‹å€’æ•¸ï¼ˆ5 ç§’ï¼‰</button>
    <div id="countdown-display" style="margin-top: 10px; color: red;"></div>

    <hr>

    <!-- è¡¨å–®è¼¸å…¥ -->
    <h3>ğŸ“ è¼¸å…¥è¡¨å–®</h3>
    <input id="name-input" placeholder="è¼¸å…¥ä½ çš„åå­—">
    <button id="submit-name">é€å‡º</button>
    <div id="name-output" style="margin-top: 10px; font-weight: bold;"></div>

    <hr>

    <!-- å³æ™‚æ™‚é–“ -->
    <h3>â° ç¾åœ¨æ™‚é–“</h3>
    <div id="time-display" style="font-size: 20px; color: blue;"></div>

    <!-- Python ç¨‹å¼ç¢¼ -->
    <script type="text/python">
        from browser import document, bind, timer
        from datetime import datetime

        # âœ… 1. æŒ‰éˆ•é»æ“Š + é¡¯ç¤ºæ–‡å­— + æŒ‰éˆ•è®Šè‰²
        @bind(document["my-button"], "click")
        def on_click(event):
            document["output"].text = "ä½ é»äº†æŒ‰éˆ•ï¼"
            event.target.style.backgroundColor = "#FFD700"  # é‡‘é»ƒè‰²
            event.target.textContent = "å†é»ä¸€æ¬¡çœ‹çœ‹ ğŸ˜"

        # âœ… 2. å€’æ•¸è¨ˆæ™‚å™¨
        countdown = 5
        countdown_id = None  # å„²å­˜ timer id

        def update_countdown():
            global countdown, countdown_id
            if countdown > 0:
                document["countdown-display"].text = f"å‰©ä¸‹ {countdown} ç§’..."
                countdown -= 1
                countdown_id = timer.set_timeout(update_countdown, 1000)
            else:
                document["countdown-display"].text = "å€’æ•¸çµæŸï¼"
                countdown = 5  # é‡è¨­

        @bind(document["countdown-button"], "click")
        def start_countdown(event):
            global countdown
            countdown = 5
            update_countdown()

        # âœ… 3. è¡¨å–®è¼¸å…¥
        @bind(document["submit-name"], "click")
        def on_submit(event):
            name = document["name-input"].value.strip()
            if name:
                document["name-output"].text = f"å“ˆå›‰ï¼Œ{name}ï¼æ­¡è¿ä½¿ç”¨ Brython ğŸ˜Š"
            else:
                document["name-output"].text = "è«‹è¼¸å…¥ä½ çš„åå­—å†é€å‡ºå–”ï¼"

        # âœ… 4. å¯¦æ™‚æ™‚é–“é¡¯ç¤º
        def show_time():
            now = datetime.now()
            current_time = now.strftime("%H:%M:%S")
            document["time-display"].text = f"ç¾åœ¨æ™‚é–“ï¼š{current_time}"
            timer.set_timeout(show_time, 1000)

        show_time()  # åˆå§‹åŒ–æ™‚é–“
    </script>

</body>
</html>
